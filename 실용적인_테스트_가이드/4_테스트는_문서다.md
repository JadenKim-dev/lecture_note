### 테스트는 문서다.

테스트 코드는 프로덕션 코드를 설명하는 문서라고 할 수 있다.  
다양한 테스트 케이스를 통해 프로덕션 코드를 이해하는 시각과 관점을 보완할 수 있다.  
보통 프로뎍션 코드를 볼 경우에는 해피 케이스에만 집중해서 코드를 이해하게 된다.  
테스트 코드를 통해 다양한 엣지 케이스나 예외 케이스를 확인하면서 코드에 대한 이해를 높일 수 있다.  
결국 해당 테스트 코드를 했던 개발자의 고민의 결과물을 팀 차원의 기록으로 승화시켜서, 함께 그 자산을 공유할 수 있다.

우리는 항상 팀으로 일한다.  
따라서 나의 코드와 문서가 다른 팀원에게 어떻게 읽힐지를 언제나 숙고해야 한다.  
이번 섹션에서는 어떻게 테스트 코드를 작성해야 문서로써 잘 기능할 수 있을지에 대해서 다뤄보자.

### DisplayName을 섬세하게

지금까지는 테스트 메서드의 명을 프로덕션 코드의 메서드명을 따라서 지어왔었다.  
이 때 각 테스트 메서드에 @DisplayName을 지정하면, 테스트 실행 시 표시되는 테스트의 라벨을 변경할 수 있다.

```java
@Test
@DisplayName("음료 1개 추가 테스트")
void add() {
    CafeKiosk cafeKiosk = new CafeKiosk();
    cafeKiosk.add(new Americano());

    assertThat(cafeKiosk.getBeverages()).hasSize(1);
    assertThat(cafeKiosk.getBeverages().get(0).getName()).isEqualTo("아메리카노");
}
```

이 때 DisplayName을 무엇을 지정하면 좋을까?  
우선 가능하면 명사의 나열 대신, 문장으로 작성하면 좋다. (A이면 B이다. A이면 B가 아니고 C이다.)  
가능하면 '~~테스트'로 끝나는 형태는 지양하는게 좋다.

- 음료 1개 추가 테스트 (x)
- 음료를 1개 추가할 수 있다. (o)

또한 여기에 추가적으로, 테스트 행위에 대한 결과까지 기술하면 좋다.

- 음료를 1개 추가할 수 있다. (x)
- 음료를 1개 추가하면 주문 목록에 담긴다. (o)

이번에는 다음과 같이 DisplayName을 개선한 사례를 살펴보자.

- 특정 시간 이전에 주문을 생성하면 실패한다. (x)
- 영업 시작 시간 이전에는 주문을 생성할 수 없다. (o)

'특정 시간' 이라는 단어는 도메인과는 무관한, 메서드 자체의 관점에서 기술한 용어이다.  
'영업 시작 시간' 이라는 단어는 도메인 정책과 밀접해있는 도메인 용어이다.  
테스트의 DisplayName을 작성할 때에는 도메인 용어를 사용하여 한층 추상화된 내용을 담는 것이 좋다.  
메서드 자체의 관점이 아닌, 도메인 정책 관점에서 테스트 이름을 기술해야 한다.

또한 '실패한다.' 라는 단어는 테스트 현상을 중점으로 기술한 단어인데, 이것도 지양하는 것이 좋다.  
'주문을 생성할 수 없다.' 와 같이 도메인 정책 관점에서 기술해야 한다.

### 문제점들

지금까지 작성한 트랜잭션 코드에는 많은 문제가 있다.  

가장 큰 문제는 특정 데이터 접근용 구현 기술(jdbc)과 관련된 코드가 서비스 계층에까지 누수되고 있다는 점이다.  
서비스 계층은 가능한 구현 기술과는 무관한, 순수한 비즈니스 로직만 담고 있는 것이 적절하다.  
그래야만 중간에 구현기술이 바뀌어도 서비스 계층에는 변화가 전파되지 않는다.  
하지만 비즈니스 로직 단위로 트랜잭션을 적용하기 위해 커넥션을 생성하고 commit/rollback 하는 코드가 서비스 계층에 추가되면서 계층의 구분이 모호해졌다.

또한 코드의 중복이 많이 일어나고 있다. 트랜잭션 처리 코드 뿐만 아니라 repository 내에서 커넥션 생성, 커넥션 닫기 등의 코드도 각 메서드에서 동일한 형태로 반복적으로 나타나고 있다. 구현 기술이 바뀐다면 이들도 모두 변경의 대상이 된다.